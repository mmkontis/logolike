"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8672],{69819:function(e,t,l){l.d(t,{k:function(){return n}});var s=l(85893);function n(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:(0,s.jsxs)("g",{style:{mixBlendMode:"luminosity"},children:[(0,s.jsx)("rect",{width:"20",height:"20",rx:"10",fill:"currentColor"}),(0,s.jsx)("path",{d:"M6.25 9.14286L9.25 13L13.75 7",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}l(67294)},93593:function(e,t,l){l.d(t,{s:function(){return n}});var s=l(85893);function n(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0544 3.22664C14.8064 2.72934 13.4709 2.48275 12.1259 2.50094C9.5843 2.49686 7.14218 3.48832 5.33643 5.2619C3.52825 7.03788 2.50642 9.45294 2.50003 11.9765C2.49364 14.5001 3.50323 16.9203 5.30243 18.7052C7.09961 20.4881 9.53741 21.4916 12.0797 21.4997C14.0445 21.5278 15.7576 19.6858 15.2341 17.6189C15.1981 17.4768 15.1522 17.3378 15.0971 17.203C17.1589 17.0076 19.0555 16.2053 20.318 14.8276C21.833 13.1742 22.3005 10.8356 21.245 8.1886C20.8299 7.14737 20.2039 6.20174 19.4064 5.40935L19.4064 5.40934L19.4015 5.4046C18.4432 4.46524 17.3051 3.72499 16.0544 3.22664ZM12.1462 4.50085C13.2314 4.48528 14.3084 4.68385 15.3141 5.08458C16.3187 5.48487 17.2314 6.07866 17.9991 6.8305C18.6023 7.43039 19.0744 8.1447 19.3873 8.92936C20.1899 10.9424 19.7846 12.4492 18.8434 13.4764C17.8519 14.5584 16.1309 15.25 14.095 15.25V15.2499L14.084 15.2501C13.813 15.2531 13.5476 15.3327 13.3193 15.4808C13.0908 15.629 12.9083 15.8401 12.7953 16.0903C12.6822 16.3407 12.644 16.6187 12.6859 16.8909C12.7277 17.163 12.8476 17.416 13.0295 17.6203L13.0295 17.6204L13.0357 17.6272C13.1615 17.7659 13.2502 17.9318 13.2953 18.11C13.4624 18.7697 12.8963 19.5131 12.1056 19.4998L12.0985 19.4997L12.0913 19.4997C10.0688 19.4947 8.13366 18.6967 6.711 17.2853C5.28877 15.8744 4.495 13.9663 4.50002 11.9816C4.50505 9.99686 5.30849 8.0927 6.73788 6.68877C8.16771 5.2844 10.1069 4.49596 12.1294 4.50095L12.1378 4.50097L12.1462 4.50085ZM12.9041 7.68187C13.0311 8.45114 12.5106 9.17778 11.7413 9.30487C10.972 9.43196 10.2454 8.91137 10.1183 8.1421C9.9912 7.37283 10.5118 6.64619 11.2811 6.5191C12.0503 6.39201 12.777 6.9126 12.9041 7.68187ZM8.25705 11.3114C9.02631 11.1843 9.5469 10.4577 9.41981 9.68839C9.29272 8.91913 8.56608 8.39854 7.79681 8.52563C7.02754 8.65272 6.50696 9.37936 6.63405 10.1486C6.76113 10.9179 7.48778 11.4385 8.25705 11.3114ZM7.9421 15.1792C8.71137 15.0521 9.23196 14.3254 9.10487 13.5562C8.97778 12.7869 8.25114 12.2663 7.48187 12.3934C6.7126 12.5205 6.19201 13.2471 6.3191 14.0164C6.44619 14.7857 7.17283 15.3063 7.9421 15.1792ZM15.6477 9.67306C16.4169 9.54597 16.9375 8.81933 16.8104 8.05006C16.6833 7.28079 15.9567 6.7602 15.1874 6.88729C14.4182 7.01438 13.8976 7.74102 14.0247 8.51029C14.1518 9.27956 14.8784 9.80015 15.6477 9.67306Z",fill:"currentColor"})})}l(67294)},91060:function(e,t,l){l.d(t,{h:function(){return n}});var s=l(85893);function n(e){return(0,s.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_466_1174)",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.8499 4.54414L7.40589 10.2291L12.9584 8.73035L8.8499 4.54414ZM7.20533 3.30101C7.4837 2.2051 8.85356 1.83534 9.64556 2.64232L14.8534 7.94863C15.6302 8.74011 15.2671 10.0752 14.1964 10.3642L7.15818 12.264C6.0875 12.553 5.10192 11.582 5.37494 10.5071L7.20533 3.30101ZM1.84924 18.1506C1.84924 15.6101 3.90873 13.5506 6.44924 13.5506C8.98975 13.5506 11.0492 15.6101 11.0492 18.1506C11.0492 20.6911 8.98975 22.7506 6.44924 22.7506C3.90873 22.7506 1.84924 20.6911 1.84924 18.1506ZM6.44924 15.4506C4.95807 15.4506 3.74924 16.6594 3.74924 18.1506C3.74924 19.6417 4.95807 20.8506 6.44924 20.8506C7.94041 20.8506 9.14924 19.6417 9.14924 18.1506C9.14924 16.6594 7.94041 15.4506 6.44924 15.4506ZM18.9966 10.3907C18.5758 9.44545 17.2918 9.30547 16.6772 10.1378L15.0446 12.349L12.3111 12.6362C11.2821 12.7443 10.7522 13.9222 11.3539 14.7639L12.9524 16.9999L12.3808 19.6883C12.1656 20.7004 13.1221 21.5683 14.1086 21.2562L16.7291 20.4269L19.1093 21.8013C20.0053 22.3187 21.1264 21.6772 21.1343 20.6426L21.1554 17.8941L23.1981 16.055C23.967 15.3627 23.7034 14.0983 22.7218 13.7711L20.1144 12.9017L18.9966 10.3907ZM16.4554 13.6371L17.6448 12.0261L18.4593 13.8555C18.6248 14.2274 18.9391 14.5126 19.3253 14.6414L21.225 15.2748L19.7368 16.6147C19.4342 16.8871 19.2601 17.2741 19.257 17.6812L19.2416 19.6837L17.5074 18.6823C17.1549 18.4788 16.733 18.4328 16.3449 18.5556L14.4356 19.1598L14.8521 17.201C14.9367 16.8028 14.8501 16.3874 14.6134 16.0562L13.4487 14.4271L15.4404 14.2179C15.8452 14.1753 16.2135 13.9646 16.4554 13.6371Z",fill:"currentColor"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_466_1174",children:(0,s.jsx)("rect",{width:"24",height:"24",fill:"currentColor"})})})]})}l(67294)},7455:function(e,t,l){l.d(t,{K:function(){return r}});var s=l(85893),n=l(67294);function r(e){let{url:t}=e,[l,r]=(0,n.useState)(t);return(0,n.useEffect)(()=>{let e=!1;return function(){if(!t)return;let l=new Image;l.src=t,l.onload=()=>{e||r(t)}}(),()=>{e=!0}},[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full blur-3xl bg-cover bg-no-repeat bg-center z-0 pointer-events-none duration-1000 ease-linear transition-[background-image]",style:{backgroundImage:`url(${l})`,opacity:.3}})})}},41025:function(e,t,l){l.d(t,{q:function(){return r}});var s=l(85893),n=l(1233);function r(e){return(0,s.jsx)("div",{className:(0,n.cn)("h-[calc(100vh_-_var(--design-create-header-height))]",e.className),children:e.children})}l(67294)},38672:function(e,t,l){l.r(t),l.d(t,{__N_SSP:function(){return ej},default:function(){return ew},useDesignCreateLayout:function(){return eb}});var s=l(85893),n=l(67294),r=l(48105),i=l(91060);function a(e){return(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3443 3H13.6557H13.6557C14.7332 2.99998 15.6222 2.99996 16.3374 3.07744C17.0835 3.15828 17.758 3.33297 18.3511 3.76393C18.6907 4.01065 18.9894 4.30928 19.2361 4.64886C19.667 5.24204 19.8417 5.91653 19.9226 6.66265C20 7.37777 20 8.26678 20 9.34434V14.6557C20 15.7332 20 16.6222 19.9226 17.3374C19.8417 18.0835 19.667 18.758 19.2361 19.3511C18.9894 19.6907 18.6907 19.9894 18.3511 20.2361C17.758 20.667 17.0835 20.8417 16.3374 20.9226C15.6222 21 14.7332 21 13.6557 21H10.3443C9.26676 21 8.37776 21 7.66264 20.9226C6.91653 20.8417 6.24204 20.667 5.64886 20.2361C5.30928 19.9894 5.01065 19.6907 4.76393 19.3511C4.33297 18.758 4.15828 18.0835 4.07744 17.3374C3.99996 16.6222 3.99998 15.7332 4 14.6557V14.6557V9.34433V9.34431C3.99998 8.26677 3.99996 7.37777 4.07744 6.66265C4.15828 5.91653 4.33297 5.24204 4.76393 4.64886C5.01065 4.30928 5.30928 4.01065 5.64886 3.76393C6.24204 3.33297 6.91653 3.15828 7.66264 3.07744C8.37776 2.99996 9.26676 2.99998 10.3443 3H10.3443ZM7.87807 5.0658C7.30212 5.1282 7.01985 5.23999 6.82443 5.38197C6.65464 5.50533 6.50533 5.65464 6.38197 5.82443C6.23999 6.01985 6.1282 6.30212 6.0658 6.87807C6.00137 7.47274 6 8.25281 6 9.4V14.6C6 15.7472 6.00137 16.5273 6.0658 17.1219C6.1282 17.6979 6.23999 17.9802 6.38197 18.1756C6.50533 18.3454 6.65464 18.4947 6.82443 18.618C7.01985 18.76 7.30212 18.8718 7.87807 18.9342C8.47274 18.9986 9.25281 19 10.4 19H13.6C14.7472 19 15.5273 18.9986 16.1219 18.9342C16.6979 18.8718 16.9802 18.76 17.1756 18.618C17.3454 18.4947 17.4947 18.3454 17.618 18.1756C17.76 17.9802 17.8718 17.6979 17.9342 17.1219C17.9986 16.5273 18 15.7472 18 14.6V9.4C18 8.25281 17.9986 7.47274 17.9342 6.87807C17.8718 6.30212 17.76 6.01985 17.618 5.82443C17.4947 5.65464 17.3454 5.50533 17.1756 5.38197C16.9802 5.23999 16.6979 5.1282 16.1219 5.0658C15.5273 5.00137 14.7472 5 13.6 5H10.4C9.25281 5 8.47274 5.00137 7.87807 5.0658ZM12.3 7C12.3 6.6134 12.6134 6.3 13 6.3H16C16.3866 6.3 16.7 6.6134 16.7 7V9.99999C16.7 10.3866 16.3866 10.7 16 10.7C15.6134 10.7 15.3 10.3866 15.3 9.99999V8.68996L13.495 10.495C13.2216 10.7683 12.7784 10.7683 12.505 10.495C12.2317 10.2216 12.2317 9.77839 12.505 9.50503L14.3101 7.7H13C12.6134 7.7 12.3 7.3866 12.3 7ZM10.505 13.505C10.7784 13.2317 11.2216 13.2317 11.495 13.505C11.7683 13.7784 11.7683 14.2216 11.495 14.495L9.68995 16.3H11C11.3866 16.3 11.7 16.6134 11.7 17C11.7 17.3866 11.3866 17.7 11 17.7H8C7.6134 17.7 7.3 17.3866 7.3 17V14C7.3 13.6134 7.6134 13.3 8 13.3C8.3866 13.3 8.7 13.6134 8.7 14V15.3101L10.505 13.505Z",fill:"currentColor"})})}var o=l(7455),c=l(71864),d=l(41025),u=l(627),x=l(39109),m=l(49870),p=l(49325),f=l(11923),h=l(49405),g=l(98942),v=l(1233),C=l(86010);let j=[["Add ...","Add "],["Change text ...","Change the text to "],["Change ...","Change "],["Replace ...","Replace "],["What if it were ...","What if it were "]];function w(e){let{k:t,v:l,onClick:n}=e;return(0,s.jsx)("button",{type:"button",className:"inline-flex  items-center justify-center px-[10px] py-[6px] bg-bg-primary backdrop-blur-xl bg-blend-luminosity hover:bg-bg-secondary rounded-full text-fg-secondary text-design-base whitespace-nowrap",onMouseDown:()=>n(l),children:t})}function b(e){return(0,s.jsx)("div",{className:(0,C.Z)("flex justify-center transition-opacity duration-150"),children:(0,s.jsx)("div",{className:"flex space-x-[6px] overflow-x-auto no-scrollbar max-w-full",children:j.map((t,l)=>{let[n,r]=t;return(0,s.jsx)(w,{k:n,v:r,onClick:e.onClick},n)})})})}var R=l(69306),B=l(72223);function y(e){return(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5303 2.5C18.978 2.5 18.5303 2.94772 18.5303 3.5V5.07196C16.8315 3.47759 14.5454 2.5 12.0303 2.5C6.78357 2.5 2.53027 6.75329 2.53027 12C2.53027 17.2467 6.78357 21.5 12.0303 21.5C16.8996 21.5 20.912 17.8375 21.4653 13.1164C21.5296 12.5679 21.137 12.0711 20.5885 12.0068C20.0399 11.9425 19.5431 12.3351 19.4789 12.8836C19.0423 16.6089 15.8732 19.5 12.0303 19.5C7.88814 19.5 4.53027 16.1421 4.53027 12C4.53027 7.85786 7.88814 4.5 12.0303 4.5C14.2507 4.5 16.2467 5.46469 17.6207 7H15.5003C14.948 7 14.5003 7.44772 14.5003 8C14.5003 8.55228 14.948 9 15.5003 9H19.5303C20.0696 9 20.5093 8.57299 20.5295 8.03859C20.5304 8.01771 20.5307 7.99677 20.5303 7.9758V3.5C20.5303 2.94772 20.0826 2.5 19.5303 2.5Z",fill:"#7C766F"})})}function G(){let{canTryAgain:e,handleTryAgain:t,loading:l,translateLeft:n}=(0,c.mr)();return e?(0,s.jsx)("div",{style:{transform:`translateX(-${n}px)`},className:`${l?"opacity-0 pointer-events-none":""} transition-transform`,children:e&&(0,s.jsxs)(r.z,{className:"mx-auto flex gap-2",type:"button",onClick:t,children:[(0,s.jsx)(y,{width:24,height:24}),"Try again"]})}):null}function N(){let{makeChangesText:e,translateLeft:t,setMakeChangesText:l,handleMakeChanges:i,loading:a,designFile:o}=(0,c.mr)(),d=(0,n.useRef)(null),[u,x]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),f=(0,R.OV)("sm"),h=(0,n.useCallback)(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[d]),g=(0,n.useCallback)(()=>{if(d.current){if(d.current.style.height="auto",u){let e=d.current.scrollHeight;d.current.style.height=`${Math.min(e,200)}px`}else d.current.style.height="64px";h()}},[h,u,d]);(0,n.useEffect)(()=>{g()},[e,g]);let C=(0,n.useCallback)(e=>{l(e),p(!0),requestAnimationFrame(()=>{d.current?.focus()})},[l,d,p]),j=""===e&&!a;return o&&!o.permissions.write?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-center w-full h-12 items-center",children:[(0,s.jsx)("div",{className:(0,v.cn)("absolute transition duration-100 overflow-x-auto px-4",j&&u?"translate-y-0 opacity-100 w-full":"translate-y-[200%] opacity-0 w-0"),children:(0,s.jsx)(b,{onClick:C})}),(0,s.jsx)("div",{className:(0,v.cn)("absolute transition duration-100 overflow-x-auto px-4",u?"translate-y-[200%] opacity-0 w-0":"translate-y-0 opacity-100  w-full"),children:(0,s.jsx)(G,{})})]}),(0,s.jsxs)("div",{className:"relative w-full max-w-lg mx-auto",children:[(0,s.jsx)("div",{className:"w-full",style:{height:"64px",minHeight:"64px",maxHeight:"64px"}}),(0,s.jsxs)("div",{className:(0,v.cn)("absolute bottom-0 left-0 right-0","flex bg-bg-primary items-end overflow-hidden rounded-design-lg w-full shadow-[0px_4px_24px_0px_rgba(0,0,0,0.12)] backdrop-blur-xl bg-blend-luminosity transition-transform","focus-within:ring-[3px] focus-within:ring-action-secondary transition-all duration-100"),style:{transform:`translateX(-${t}px)`},onFocus:()=>x(!0),onBlur:()=>x(!1),children:[(0,s.jsxs)("div",{className:"relative w-full h-full",children:[(0,s.jsx)("textarea",{ref:d,onChange:e=>{l(e.target.value),p(!1),p(!1)},value:e,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||a||(e.preventDefault(),i())},onFocus:()=>x(!0),onBlur:()=>x(!1),placeholder:"What do you want to change?",className:(0,v.cn)("relative","text-md w-full flex items-center max-h-[200px]","pl-3 pr-0 sm:pl-4 sm:pr-3 py-5 min-h-16 overflow-y-auto","bg-bg-primary border-none resize-none no-scrollbar","focus-visible:border-none focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0"),rows:1,"data-testid":"design-create-promptbox"}),(0,s.jsx)("div",{className:"top-0 right-0 left-0 bg-gradient-to-b from-bg-primary to-transparent w-full h-6 absolute pointer-events-none"}),(0,s.jsx)("div",{className:"bottom-0 right-0 left-0 bg-gradient-to-t from-bg-primary to-transparent w-full h-6 absolute pointer-events-none"})]}),(0,s.jsx)("div",{className:"p-3 sm:p-2",children:f?(0,s.jsx)(r.z,{"data-testid":"design-create-promptbox-button",onClick:i,disabled:a||!e||m,variant:"action-primary",size:"icon",children:(0,s.jsx)(B.H,{})}):(0,s.jsx)(r.z,{"data-testid":"design-create-promptbox-button",onClick:i,disabled:a||!e||m,variant:"action-primary",className:"px-4",size:"lg",children:"Create"})})]})]})]})}var k=l(5266),L=l(51879),z=l(75508),$=l(95995),M=l(30013),_=l(62469);function S(e){let{url:t,loading:l}=e,{designVersion:n}=(0,c.mr)();return(0,s.jsx)("div",{className:" h-full rounded-[48px] border-solid border-[6px] border-bg-primary ",style:{backgroundImage:`url(${t})`,backgroundSize:"25% 25%",backgroundRepeat:"repeat",filter:l?"brightness(0.5)":"none",aspectRatio:`${n?.width??"1"} / ${n?.height??"1"} !important`},children:(0,s.jsx)("img",{src:t,className:"max-h-full min-h-[128px] relative overflow-hidden invisible",alt:"invisible image"})})}var Z=l(14126),E=l(11163),P=l(1604),F=l(44746),V=l(75287),H=l(31630),I=l(8891),O=l.n(I);let D=(0,s.jsxs)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M14.0493 9.31556C14.2372 8.99005 14.3312 8.82729 14.2948 8.64312C14.2847 8.59164 14.2571 8.52149 14.2295 8.47686C14.1308 8.31721 13.9792 8.27055 13.676 8.17722C13.0881 7.9963 12.4625 7.95216 11.8477 8.05366C10.9346 8.20441 10.1021 8.66708 9.4919 9.36285C8.88173 10.0586 8.53168 10.9444 8.5014 11.8694C8.47112 12.7943 8.76248 13.7011 9.32584 14.4353C9.8892 15.1695 10.6897 15.6856 11.591 15.8957C12.4922 16.1059 13.4384 15.997 14.2684 15.5877C15.0984 15.1784 15.7608 14.494 16.1427 13.6511C16.3999 13.0835 16.5192 12.4677 16.4966 11.8531C16.4849 11.5361 16.4791 11.3775 16.3504 11.2408C16.3144 11.2026 16.2538 11.1579 16.2067 11.1347C16.0382 11.052 15.8567 11.1006 15.4936 11.1979L14.598 11.4379C13.8121 11.6485 13.4192 11.7537 13.2212 11.5934C13.1598 11.5438 13.1111 11.4803 13.0791 11.4082C12.9754 11.1755 13.1788 10.8232 13.5857 10.1185L14.0493 9.31556Z",fill:"#7C766F"}),(0,s.jsx)("path",{d:"M12.5 5C7.60819 5 4.42565 8.41854 2.95239 10.4777C2.58456 10.9918 2.40064 11.2488 2.33779 11.7522C2.32246 11.875 2.32246 12.125 2.33779 12.2478C2.40064 12.7512 2.58456 13.0082 2.95239 13.5223C4.42565 15.5815 7.60819 19 12.5 19C17.3918 19 20.5743 15.5815 22.0476 13.5223C22.4154 13.0082 22.5994 12.7512 22.6622 12.2478C22.6775 12.125 22.6775 11.875 22.6622 11.7522C22.5994 11.2488 22.4154 10.9918 22.0476 10.4777C20.5743 8.41854 17.3918 5 12.5 5Z",stroke:"#7C766F",strokeWidth:"2",strokeLinejoin:"round"})]});function T(e){let{designFile:t}=e,l=t?.permissions.write,i=t?.permissions.read,[a,o]=(0,n.useState)(!1),d=(0,E.useRouter)(),x=(0,c.mr)(),m=x.designFile?.Template?.type==="PREMIUM",p=(0,F.rP)(),f=!m||p,h=(0,H.T1)();return i&&!l?(0,s.jsxs)("div",{className:"text-fg-secondary text-lg px-2 py-1 rounded-full flex flex-col gap-8 items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[D,"This is a view-only template."]}),(0,s.jsxs)(r.z,{disabled:a,className:"z-50 h-[56px] max-md:!px-6 rounded-full md:h-[48px] flex gap-2",variant:"action-secondary",onClick:async()=>{if(O().track("Make a Copy Clicked",{designId:x.designVersion?.id,canAccess:f}),!f)return x.setUpgradeDialogMeta({open:!0,context:"make-a-copy"});o(!0);let e=await fetch(`/api/design/public/${x.designVersion?.id}`);if(200!==e.status){o(!1),h("Failed to create a copy");return}let t=P.z.object({fileId:P.z.string()}).parse(await e.json());d.push(`/design/${t.fileId}`)},children:[a?(0,s.jsx)(u.s8,{className:"fill-white"}):f?null:(0,s.jsx)(V.m,{className:"text-white",width:20,height:20}),"Make a copy to edit"]})]}):null}var A=l(47922),U=l(93593),W=l(85189),X=l(69819),q=l(68995),K=l(42625),J=l(59820),Q=l(12668),Y=l(88361),ee=l(83591),et=l.n(ee),el=l(55651),es=l(56472),en=l(23279),er=l.n(en);let ei=["RGB(96, 108, 56)","RGB(40, 54, 24)","RGB(254, 250, 224)","RGB(221, 161, 94)","RGB(188, 108, 37)"];function ea(e){let{value:t=ei,onValueChange:l}=e,[r,i]=(0,n.useState)(t),[a,o]=(0,n.useState)(0),[c,d]=(0,n.useState)("");(0,n.useEffect)(()=>{i(t)},[t]),(0,n.useEffect)(()=>{null!==a&&d((0,es.vR)(eo(r[a])))},[a,r]);let u=er()((e,t)=>{let s=[...r];s[e]=t,i(s),l?.(s),d((0,es.vR)(eo(t)))},200),x=(e,t)=>{u(e,t)},m=null!==a?r[a]:null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"jsx-651fd8f6b2e3563a flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"jsx-651fd8f6b2e3563a flex gap-1 w-full h-20 rounded-lg overflow-hidden",children:r.map((e,t)=>{let l=t===r.length-1;return(0,s.jsx)(ef,{color:e,onClick:()=>o(a===t?null:t),style:{width:`calc(${ec(t,r.length)} - ${l?0:4}px)`,padding:0},children:a===t&&(0,s.jsx)(X.k,{className:"w-6 h-6 shrink-0 text-fg-primary border-2 rounded-full"})},`${e}_${t}`)})}),m&&null!==a&&(0,s.jsxs)("div",{className:"jsx-651fd8f6b2e3563a relative",children:[(0,s.jsx)(el.Ts,{color:function(e){let[t,l,s]=e.replace("RGB(","").replace(")","").split(", ").map(Number);return{r:t,g:l,b:s}}(m),onChange:e=>x(a,function(e){let{r:t,g:l,b:s}=e;return`RGB(${t}, ${l}, ${s})`}(e)),style:{width:"100%",overflow:"hidden"},id:"rgb-color-picker"}),(0,s.jsxs)("div",{onClick:()=>{let e=document.getElementById("hex-color-input");e?.focus()},className:"jsx-651fd8f6b2e3563a absolute bottom-0 right-0 w-[120px] flex items-center gap-2 focus-within:outline-1 border rounded-full p-2 bg-white px-3",children:[(0,s.jsx)("div",{className:"jsx-651fd8f6b2e3563a text-fg-quaternary",children:"#"}),(0,s.jsx)(el.ZE,{id:"hex-color-input",color:c?.toUpperCase(),onChange:e=>{let t=(0,es.nf)(e?.toUpperCase());t&&x(a,`RGB(${t.r}, ${t.g}, ${t.b})`)},className:"bg-transparent p-0 outline-none w-full",placeholder:"000000"})]})]})]}),(0,s.jsx)(et(),{id:"651fd8f6b2e3563a",children:"#rgb-color-picker{gap:8px!important}.react-colorful__saturation{-webkit-border-radius:8px!important;-moz-border-radius:8px!important;border-radius:8px!important}.react-colorful__hue{-webkit-border-radius:8px!important;-moz-border-radius:8px!important;border-radius:8px!important;height:42px!important;width:-webkit-calc(100% - 128px);width:-moz-calc(100% - 128px);width:calc(100% - 128px)}.react-colorful__hue-pointer{-webkit-border-radius:8px!important;-moz-border-radius:8px!important;border-radius:8px!important;height:42px!important;width:12px!important;border:3px solid white!important}"})]})}function eo(e){let[t,l,s]=e.replace("RGB(","").replace(")","").split(", ").map(Number);return{r:t,g:l,b:s,a:1}}function ec(e,t,l){return l&&l?.selectedIndex!==null?e===l?.selectedIndex?"60%":`${40/(t-1)}%`:0===e?"40%":1===e?"25%":`${35/(t-2)}%`}let ed=[{slug:"forest-whisper",name:"Forest Whisper",value:["RGB(96, 108, 56)","RGB(40, 54, 24)","RGB(254, 250, 224)","RGB(221, 161, 94)","RGB(188, 108, 37)"]},{slug:"crimson-tide",name:"Crimson Tide",value:["RGB(120, 0, 0)","RGB(193, 18, 31)","RGB(253, 240, 213)","RGB(0, 48, 73)","RGB(102, 155, 188)"]},{slug:"tropical-breeze",name:"Tropical Breeze",value:["RGB(142, 202, 230)","RGB(33, 158, 188)","RGB(2, 48, 71)","RGB(255, 183, 3)","RGB(251, 133, 0)"]},{slug:"sunny-meadow",name:"Sunny Meadow",value:["RGB(204, 213, 174)","RGB(233, 237, 201)","RGB(254, 250, 224)","RGB(250, 237, 205)","RGB(212, 163, 115)"]},{slug:"mossy-earth",name:"Mossy Earth",value:["RGB(218, 215, 205)","RGB(163, 177, 138)","RGB(88, 129, 87)","RGB(58, 90, 64)","RGB(52, 78, 65)"]},{slug:"pastel-daydream",name:"Pastel Daydream",value:["RGB(205, 180, 219)","RGB(255, 200, 221)","RGB(255, 175, 204)","RGB(189, 224, 254)","RGB(162, 210, 255)"]},{slug:"urban-sunset",name:"Urban Sunset",value:["RGB(0, 48, 73)","RGB(214, 40, 40)","RGB(247, 127, 0)","RGB(252, 191, 73)","RGB(234, 226, 183)"]},{slug:"dusty-vintage",name:"Dusty Vintage",value:["RGB(237, 237, 233)","RGB(214, 204, 194)","RGB(245, 235, 224)","RGB(227, 213, 202)","RGB(213, 189, 175)"]},{slug:"ocean-spray",name:"Ocean Spray",value:["RGB(0, 129, 167)","RGB(0, 175, 185)","RGB(253, 252, 220)","RGB(254, 217, 183)","RGB(240, 113, 103)"]},{slug:"rosewood",name:"Rosewood",value:["RGB(230, 57, 70)","RGB(241, 250, 238)","RGB(168, 218, 220)","RGB(69, 123, 157)","RGB(29, 53, 87)"]},{slug:"golden-hour",name:"Golden Hour",value:["RGB(0, 0, 0)","RGB(20, 33, 61)","RGB(252, 163, 17)","RGB(229, 229, 229)","RGB(255, 255, 255)"]},{slug:"burnished-rust",name:"Burnished Rust",value:["RGB(111, 29, 27)","RGB(187, 148, 87)","RGB(67, 40, 24)","RGB(153, 88, 42)","RGB(255, 230, 167)"]},{slug:"deep-sea",name:"Deep Sea",value:["RGB(3, 4, 94)","RGB(2, 62, 138)","RGB(0, 119, 182)","RGB(0, 150, 199)","RGB(0, 180, 216)","RGB(72, 202, 228)","RGB(144, 224, 239)","RGB(173, 232, 244)","RGB(202, 240, 248)"]},{slug:"ember-flare",name:"Ember Flare",value:["RGB(3, 7, 30)","RGB(55, 6, 23)","RGB(106, 4, 15)","RGB(157, 2, 8)","RGB(208, 0, 0)","RGB(220, 47, 2)","RGB(232, 93, 4)","RGB(244, 140, 6)","RGB(250, 163, 7)","RGB(255, 186, 8)"]},{slug:"fiery-twilight",name:"Fiery Twilight",value:["RGB(95, 15, 64)","RGB(154, 3, 30)","RGB(251, 139, 36)","RGB(227, 100, 20)","RGB(15, 76, 92)"]},{slug:"desert-night",name:"Desert Night",value:["RGB(0, 18, 25)","RGB(0, 95, 115)","RGB(10, 147, 150)","RGB(148, 210, 189)","RGB(233, 216, 166)","RGB(238, 155, 0)","RGB(202, 103, 2)","RGB(187, 62, 3)","RGB(174, 32, 18)","RGB(155, 34, 38)"]},{slug:"flaming-crimson",name:"Flaming Crimson",value:["RGB(43, 45, 66)","RGB(141, 153, 174)","RGB(237, 242, 244)","RGB(239, 35, 60)","RGB(217, 4, 41)"]},{slug:"gray-scale",name:"Gray Scale",value:["RGB(248, 249, 250)","RGB(233, 236, 239)","RGB(222, 226, 230)","RGB(206, 212, 218)","RGB(173, 181, 189)","RGB(108, 117, 125)","RGB(73, 80, 87)","RGB(52, 58, 64)","RGB(33, 37, 41)"]},{slug:"morning-dawn",name:"Morning Dawn",value:["RGB(34, 34, 59)","RGB(74, 78, 105)","RGB(154, 140, 152)","RGB(201, 173, 167)","RGB(242, 233, 228)"]},{slug:"meadow-haze",name:"Meadow Haze",value:["RGB(56, 102, 65)","RGB(106, 153, 78)","RGB(167, 201, 87)","RGB(242, 232, 207)","RGB(188, 71, 73)"]},{slug:"electric-sun",name:"Electric Sun",value:["RGB(255, 190, 11)","RGB(251, 86, 7)","RGB(255, 0, 110)","RGB(131, 56, 236)","RGB(58, 134, 255)"]},{slug:"storm-cloud",name:"Storm Cloud",value:["RGB(53, 53, 53)","RGB(60, 110, 113)","RGB(255, 255, 255)","RGB(217, 217, 217)","RGB(40, 75, 99)"]},{slug:"misty-ocean",name:"Misty Ocean",value:["RGB(13, 27, 42)","RGB(27, 38, 59)","RGB(65, 90, 119)","RGB(119, 141, 169)","RGB(224, 225, 221)"]},{slug:"sunset-glow",name:"Sunset Glow",value:["RGB(51, 92, 103)","RGB(255, 243, 176)","RGB(224, 159, 62)","RGB(158, 42, 43)","RGB(84, 11, 14)"]},{slug:"blue-lagoon",name:"Blue Lagoon",value:["RGB(3, 4, 94)","RGB(0, 119, 182)","RGB(0, 180, 216)","RGB(144, 224, 239)","RGB(202, 240, 248)"]},{slug:"golden-dusk",name:"Golden Dusk",value:["RGB(0, 8, 20)","RGB(0, 29, 61)","RGB(0, 53, 102)","RGB(255, 195, 0)","RGB(255, 214, 10)"]},{slug:"neon-bliss",name:"Neon Bliss",value:["RGB(247, 37, 133)","RGB(181, 23, 158)","RGB(114, 9, 183)","RGB(86, 11, 173)","RGB(72, 12, 168)","RGB(58, 12, 163)","RGB(63, 55, 201)","RGB(67, 97, 238)","RGB(72, 149, 239)","RGB(76, 201, 240)"]},{slug:"vintage-tan",name:"Vintage Tan",value:["RGB(244, 241, 222)","RGB(224, 122, 95)","RGB(61, 64, 91)","RGB(129, 178, 154)","RGB(242, 204, 143)"]},{slug:"autumn-blaze",name:"Autumn Blaze",value:["RGB(120, 1, 22)","RGB(247, 181, 56)","RGB(219, 124, 38)","RGB(216, 87, 42)","RGB(195, 47, 39)"]}],eu="Default",ex=eu.toLowerCase();function em(){let{customPalette:e,setCustomPalette:t,type:i,transitionVariants:a,direction:o,handleTypeChange:d,palettes:u,selectedPalette:x,isSelectedPaletteCustom:m,isSelectedPaletteDefault:p,handleChooseColorPalette:f,openCustomPalettePicker:h}=function(){var e,t;let{handleChooseColorPalette:s,designVersion:r,setUpgradeDialogMeta:i,showColorPicker:a,originalPreset:o}=(0,c.mr)(),{data:d}=(e=o?.url_jpeg||o?.url,t={enabled:!!o,max:5},(0,J.ZP)(e,async e=>{if(!t?.enabled||!e)return null;let s=new(await l.e(6445).then(l.bind(l,86445)).then(e=>e.default)),n=await fetch(e).then(e=>e.blob()),r=new Image;return new Promise((e,l)=>{r.src=URL.createObjectURL(n),r.crossOrigin="Anonymous",r.onload=async()=>{try{let l=await s.getPalette(r),n=(l?.map(e=>`RGB(${e[0]}, ${e[1]}, ${e[2]})`)).slice(0,t?.max??5);e(n)}catch(e){l(e)}},r.onerror=e=>{l(e)}})},{onError:e=>{console.error("[useImageColor] Error"),console.error(e)}})),[u,x]=(0,W.Z)("pg:palette",ei),m=(0,F.rP)(),[p,f]=(0,n.useState)("preset"),h=(0,n.useMemo)(()=>r?.content.background.palette,[r]),g=(0,n.useMemo)(()=>u.join()===h?.join(),[u,h]),v=(0,n.useMemo)(()=>!!d&&!h,[d,h]),C=(0,n.useMemo)(()=>{let e=[...ed].sort((e,t)=>{if(h){if(e.value.join()===h.join())return -1;if(t.value.join()===h.join())return 1}return 0});return d&&(e=[{slug:ex,name:eu,value:d},...e]),e},[d,h]),j=(0,k.iP)(),w="mobile"===eb()?j.width:400,[b,R]=(0,n.useState)(1),B=e=>{R("custom"===e?1:-1),f(e)};return(0,n.useEffect)(()=>()=>void B("preset"),[a]),{customPalette:u,setCustomPalette:x,type:p,setType:f,palettes:C,selectedPalette:h,isSelectedPaletteCustom:g,isSelectedPaletteDefault:v,handleChooseColorPalette:s,setUpgradeDialogMeta:i,transitionVariants:{initial:e=>({opacity:0,x:e>0?w:-w}),animate:{opacity:1,x:0,transition:{type:"spring",stiffness:200,damping:20,mass:.5}},exit:e=>({opacity:0,x:e<0?w:-w,transition:{type:"spring",stiffness:200,damping:20,mass:.5}})},direction:b,handleTypeChange:B,openCustomPalettePicker:()=>m?B("custom"):i({open:!0,context:"custom-color-palette"})}}();return(0,s.jsx)("div",{className:"relative overflow-x-hidden overflow-y-auto h-full min-h-[70vh]",children:(0,s.jsx)(Q.M,{mode:"sync",custom:o,children:"custom"===i?(0,s.jsxs)(Y.E.div,{variants:a,initial:"initial",animate:"animate",exit:"exit",custom:o,className:(0,v.cn)("absolute top-0 left-0 w-full p-4 flex flex-col gap-4 justify-between min-h-[70vh] h-full"),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Choose a custom palette"}),(0,s.jsx)(ea,{value:e,onValueChange:t})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsx)(r.z,{size:"lg",className:"w-full md:w-auto md:min-w-[88px]",variant:"ghost",onClick:()=>d("preset"),children:"Cancel"}),(0,s.jsx)(r.z,{className:"w-full md:w-auto md:min-w-[88px]",size:"lg",variant:"action-primary",onClick:()=>f(e),children:"Apply"})]})]},"custom"):(0,s.jsx)(Y.E.div,{variants:a,initial:"initial",animate:"animate",exit:"exit",custom:o,className:"absolute top-0 left-0 w-full flex flex-col gap-4 min-h-[70vh]",children:(0,s.jsxs)("div",{className:(0,v.cn)("px-4 pt-2 grid grid-cols-2"),children:[(0,s.jsxs)(r.z,{onClick:h,className:(0,v.cn)("flex flex-col gap-2 p-2 rounded-xl h-auto border-[3px] border-transparent",m?"border-fg-primary":"border-transparent"),children:[(0,s.jsx)(ep,{children:m?e.map((t,l)=>(0,s.jsx)(ef,{color:t,style:{width:ec(l,e.length)}},t)):(0,s.jsx)("div",{className:"h-full w-full bg-bg-secondary flex items-center justify-center",children:(0,s.jsx)(q.p,{className:"w-7 h-7 text-fg-primary"})})}),(0,s.jsxs)("div",{className:"flex justify-between items-center px-1 w-full",children:[(0,s.jsx)("p",{className:"text-design-sm text-fg-primary text-left w-full",children:"Custom"}),m?(0,s.jsx)(X.k,{className:"w-5 h-5 shrink-0 text-fg-primary"}):(0,s.jsx)(K.Z,{})]})]},"custom"),u.map(e=>{let t=e.value.join()===x?.join()||e.slug===ex&&p;return(0,s.jsxs)(r.z,{onClick:()=>t?null:f(e.value),className:(0,v.cn)("flex flex-col gap-2 p-2 rounded-xl h-auto border-[3px]",t?"border-fg-primary":"border-transparent"),children:[(0,s.jsx)(ep,{isSelected:t,children:e.value.map((t,l)=>(0,s.jsx)(ef,{color:t,style:{width:ec(l,e.value.length)}},t))}),(0,s.jsxs)("div",{className:"flex justify-between items-center gap-2 text-left w-full px-1",children:[e?.name?(0,s.jsx)("p",{className:"text-design-sm text-fg-primary text-left w-full",children:e.name}):null,t&&(0,s.jsx)(X.k,{className:"w-5 h-5 shrink-0 text-fg-primary"})]})]},e.value.join())})]})},"preset")})})}function ep(e){return(0,s.jsx)("div",{className:(0,v.cn)("flex","w-full h-20 rounded-lg overflow-hidden relative p-0 border-2 border-transparent"),children:e.children})}function ef(e){let t=e.onClick?r.z:"div";return(0,s.jsx)(t,{className:(0,v.cn)("rounded-none w-full h-full",e?.className),...e,style:{backgroundColor:e.color,...e.style},children:e.children})}var eh=l(28908),eg=l(18794);let ev=e=>{let{preset:t,handleApplyPreset:l,loading:n}=e;return(0,s.jsxs)("button",{disabled:n,type:"button",className:"group flex flex-col gap-1 items-center justify-center disabled:cursor-wait",onClick:()=>l(t.presetConfigSlug),children:[(0,s.jsx)("img",{alt:"",className:"rounded-xl outline-fg-tertiary outline-0 group-hover:outline-2  hover:outline-2 transition-all",src:t.url}),(0,s.jsx)("div",{className:"md:text-md text-sm text-fg-tertiary font-medium",children:t.PresetConfig.name||t.presetConfigSlug})]})},eC=e=>{let{resizePreset:t,handleResize:l,loading:n,selected:r}=e;return(0,s.jsxs)("button",{type:"button",className:`flex gap-3 items-center rounded-2xl disabled:cursor-wait ${n?"":"hover:bg-bg-secondary/80"} transition-colors ${r?"bg-bg-secondary":""}`,onClick:()=>l(t),disabled:n,children:[(0,s.jsx)("div",{className:"w-24 h-24 flex-grow-0 flex-shrink-0 grid items-center justify-center",children:(0,s.jsx)("div",{className:`border-2 rounded-lg ${r?"border-fg-primary":"border-bg-tertiary"}`,style:{width:`${Math.round(t.width/16)}px`,height:`${Math.round(t.height/16)}px`}})}),(0,s.jsxs)("div",{className:"w-full text-start",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-fg-primary",children:t.displayText}),(0,s.jsxs)("div",{className:"text-md text-fg-secondary",children:[t.width,"\xd7",t.height]})]})]})};var ej=!0;function ew(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{title:e.title,description:e.description}),(0,s.jsx)(eR,{...e})]})}function eb(){return(0,R.OV)("lg")?"mobile":"desktop"}function eR(e){let{loading:t,designVersion:l,url:r,designFile:i,designCanvasRef:a,closeAllDrawers:o,reset:d}=(0,c.mr)(),u=eb();(0,n.useEffect)(()=>()=>{d()},[]);let m=(0,n.useRef)(l?.id);return((0,n.useEffect)(()=>{t&&o()},[t,o]),(0,n.useEffect)(()=>{l&&l.id!==m.current&&(m.current=l.id,a.current?.loadFromDesignVersion(l))},[l,a]),(0,x.O)("keydown",e=>{"Escape"===e.key&&o()}),!i&&e?.statusCode)?(0,s.jsx)(M.Z,{error:e?.statusCode}):r?"mobile"===u?(0,s.jsx)(ey,{}):(0,s.jsx)(eB,{}):null}function eB(){let{showPresets:e,showResize:t,drawerContainerRef:l,loading:n,url:r,designFile:i,template:a,showExploreSidebar:u}=(0,c.mr)(),x=(0,R.OV)("lg"),m=(0,eg.L0)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.K,{url:r}),(0,s.jsxs)(d.q,{className:(0,v.cn)("grid grid-cols-[1fr_auto_1fr] grid-rows-[auto_1fr_auto] gap-8 overflow-hidden mx-auto py-4 px-3",!x&&u&&m?"grid-cols-[minmax(480px,_1fr)_auto_1fr]":""),children:[(0,s.jsx)("div",{className:"col-start-2 row-start-2 col-span-1 row-span-1 min-w-0 min-h-0",children:(0,s.jsx)(eP,{})}),(0,s.jsxs)("div",{className:"w-full min-w-[400px] gap-2 col-start-2 row-start-3 col-span-1 row-span-1 justify-self-center flex flex-col",children:[(0,s.jsx)(N,{}),i&&(0,s.jsx)(T,{designFile:i})]}),(0,s.jsxs)("div",{className:`${e||t?"z-20":""} col-start-3 relative row-start-2 col-span-1 row-span-2 items-start justify-start`,ref:l,children:[(0,s.jsx)(eS,{}),(0,s.jsx)(ez,{}),(0,s.jsx)(e$,{})]}),(0,s.jsx)("div",{className:`${e||t?"invisible pointer-events-none":"z-20"} col-start-3 row-start-2 col-span-1 row-span-1`,children:(0,s.jsx)("div",{className:`${n?"opacity-0 pointer-events-none":""} transition-all h-full w-full flex flex-col gap-1 justify-center items-start`,"data-testid":"design-actions-sidebar",children:(0,s.jsx)(eL,{})})}),(0,s.jsx)(eN,{})]})]})}function ey(){let{url:e,designFile:t}=(0,c.mr)(),l=(0,k.iP)(),{data:r}=(0,$.l)(e),i=(0,R.OV)("md"),{maxHeight:a,maxWidth:d}=(0,n.useMemo)(()=>{let e=r?r?.width/r?.height:1,t=l.height-L.Hq-48-48-160-(i?48:0);return{imageAspectRatio:e,maxHeight:t,maxWidth:t*e}},[r,l.height,i]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{height:l.height-L.Hq-(i?48:0)},className:"flex flex-col",children:[(0,s.jsx)(o.K,{url:e}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col justify-center h-fit gap-4 py-4",children:[(0,s.jsx)("div",{className:"w-full h-fit px-4",children:(0,s.jsx)(eP,{className:"mx-auto",style:{maxHeight:a,maxWidth:d}})}),(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto h-12 no-scrollbar px-4 sm:px-6 sm:justify-center","data-testid":"design-actions-toolbar",children:[(0,s.jsx)(eL,{}),(0,s.jsx)(eG,{})]})]}),(0,s.jsxs)("div",{className:"w-full gap-2 flex flex-col justify-end p-4 pt-0",children:[(0,s.jsx)(N,{}),(0,s.jsx)(T,{designFile:t})]})]})})}function eG(){let{showDebugInfo:e,showPresets:t,showColorPicker:l,showResize:n,setShowPresets:r,setShowResize:i,setShowDebugInfo:a,setShowColorPicker:o,setTranslateLeft:d}=(0,c.mr)(),u=t||n||e||l;return(0,s.jsx)(z.dy,{open:u,onOpenChange:e=>{e||(r(!1),i(!1),a(!1),o(!1),d(0))},children:(0,s.jsxs)(z.sc,{children:[(0,s.jsxs)(z.OX,{children:[(0,s.jsx)(z.iI,{children:t?"Apply style":n?"Resize":e?"Debug info":l?"Change Colors":void 0}),(0,s.jsx)(z.cC,{children:"Close"})]}),(0,s.jsxs)("div",{className:"overflow-y-auto max-h-[70vh]",children:[t&&(0,s.jsx)("div",{className:"px-4 pb-4",children:(0,s.jsx)(eE,{})}),n&&(0,s.jsx)("div",{className:"px-4 pb-4",children:(0,s.jsx)(eM,{})}),l&&(0,s.jsx)(em,{}),e&&(0,s.jsx)("div",{className:"px-4 pb-4",children:(0,s.jsx)(ek,{})})]})]})})}function eN(){let{showDebugInfo:e,designVersion:t}=(0,c.mr)(),l=p.t5.useUserHasPermission("design:view-template-prompts"),{data:n}=(0,m.Z)(t&&l?`/api/design/versions/${t.id}/admin`:null,f.S);return(0,s.jsx)(s.Fragment,{children:l&&e&&n&&(0,s.jsx)("div",{className:"col-start-1 col-span-1 row-start-2 row-span-1 flex flex-col",children:(0,s.jsx)("div",{className:"relative h-full",children:(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full overflow-y-scroll",children:(0,s.jsx)(ek,{})})})})})}function ek(){let{showDebugInfo:e,designVersion:t}=(0,c.mr)(),l=p.t5.useUserHasPermission("design:view-template-prompts"),{data:n,isLoading:r}=(0,m.Z)(t&&l?`/api/design/versions/${t.id}/admin`:null,f.S);if(!(l&&e))return null;if(r)return(0,s.jsx)("div",{className:"p-4",children:"Loading..."});let i=t?.content?.background?.edit_message;return(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-md font-semibold",children:"Prompt"}),(0,s.jsx)(g.Z,{fetchContent:async()=>Object.values(n?.secretContent?.prompts)?.[0]})]}),Object.values(n?.secretContent?.prompts)?.[0],i&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-md font-semibold",children:"Edit message"}),(0,s.jsx)(g.Z,{fetchContent:async()=>Object.values(n?.secretContent?.prompts)?.[0]})]}),i]})]})}function eL(){let{togglePresets:e,toggleResize:t,tile:l,setTile:n,showDebugInfo:o,setShowDebugInfo:d,template:u,designFile:x,toggleColorPicker:m,loading:f}=(0,c.mr)(),g=p.t5.useUserHasPermission("design:view-template-prompts"),C=u?.tags.some(e=>"clyyxuijt004h5vp0tdc6rsb4"===e.tagId),j=(0,A.y)("color-palette");return x&&!x.permissions.write||f?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.z,{onClick:e,className:"flex gap-2 pr-5 py-3",variant:"action-secondary",size:"lg",children:[(0,s.jsx)(i.h,{})," Apply style"]}),(0,s.jsxs)(r.z,{onClick:t,className:"flex gap-2 pr-5 py-3",size:"lg",children:[(0,s.jsx)(a,{})," Resize"]}),j&&(0,s.jsxs)(r.z,{onClick:m,className:"flex gap-2 pr-5 py-3",size:"lg",children:[(0,s.jsx)(U.s,{})," Change Colors ",(0,s.jsx)(h.Z,{})]}),g&&(0,s.jsxs)(r.z,{onClick:()=>d(!o),className:"flex gap-2 pr-5 py-3",size:"lg",children:["Show debug info ",(0,s.jsx)(h.Z,{})]}),C&&(0,s.jsxs)(r.z,{onClick:()=>n(e=>!e),className:(0,v.cn)("flex gap-2",l&&"bg-bg-secondary"),children:[(0,s.jsx)(_.pso,{className:"w-5 h-5 scale-75"}),"Verify Pattern"]})]})}function ez(){let{resizeDrawerRef:e,showResize:t,toggleResize:l,translateLeft:n}=(0,c.mr)();return e_(e,()=>{t&&l()}),(0,s.jsxs)("div",{ref:e,className:`${t?"":"opacity-0 pointer-events-none"} bg-bg-primary bg-blend-luminosity shadow-[0px_4px_24px_0px_rgba(0,0,0,0.12)] w-[360px] absolute left-0 top-0 h-full flex flex-col gap-6 rounded-3xl p-4 transition-all py-4 px-6`,style:{transform:`translateX(-${n}px)`},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"text-xl font-semibold w-full",children:"Resize"}),(0,s.jsx)(r.z,{className:"font-semibold",onClick:l,children:"Close"})]}),(0,s.jsx)("div",{className:"h-full overflow-y-scroll",children:(0,s.jsx)(eM,{})})]})}function e$(){let{colorDrawerPickerRef:e,toggleColorPicker:t,showColorPicker:l,translateLeft:n}=(0,c.mr)();return e_(e,()=>{l&&t()}),(0,s.jsxs)("div",{ref:e,className:`${l?"":"opacity-0 pointer-events-none"} bg-bg-primary bg-blend-luminosity shadow-[0px_4px_24px_0px_rgba(0,0,0,0.12)] w-[360px] absolute left-0 top-0 h-full flex flex-col rounded-3xl overflow-hidden transition-all z-50`,style:{transform:`translateX(-${n}px)`},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 mb-2 px-6",children:[(0,s.jsx)("div",{className:"text-xl font-semibold w-full",children:"Choose Colors"}),(0,s.jsx)(r.z,{className:"font-semibold",onClick:t,children:"Close"})]}),(0,s.jsx)("div",{className:"h-full overflow-y-scroll",children:(0,s.jsx)(em,{})})]})}function eM(){let{designVersion:e,loading:t,handleResize:l}=(0,c.mr)();return(0,s.jsx)("div",{className:"flex flex-col gap-2",children:c.gf.map(n=>(0,s.jsx)(eC,{resizePreset:n,handleResize:l,loading:t,selected:e?.width===n.width&&e?.height===n.height},n.displayText))})}function e_(e,t){(0,n.useEffect)(()=>{function l(l){e.current&&!e.current.contains(l.target)&&t()}return e.current&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[e,t])}function eS(){let{presetsDrawerRef:e,showPresets:t,togglePresets:l,translateLeft:n}=(0,c.mr)();return e_(e,()=>{t&&l()}),(0,s.jsxs)("div",{ref:e,className:`${t?"":"opacity-0 pointer-events-none"} bg-bg-primary bg-blend-luminosity shadow-[0px_4px_24px_0px_rgba(0,0,0,0.12)] w-[540px] absolute left-0 top-0 h-full flex flex-col gap-6 rounded-3xl p-4 transition-all py-4 px-6`,style:{transform:`translateX(-${n}px)`},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"text-xl font-semibold w-full",children:"Apply style"}),(0,s.jsx)(r.z,{className:"font-semibold",onClick:l,children:"Close"})]}),(0,s.jsx)("div",{className:"h-full overflow-y-scroll",children:(0,s.jsx)(eE,{})})]})}let eZ=["original"];function eE(){let{template:e,coffeeCupsTemplate:t,loading:l,handleApplyPreset:n}=(0,c.mr)(),r=e?.TemplatePresets?.filter(e=>!eZ.includes(e.presetConfigSlug)),i=Array.isArray(r)&&r?.length>0?e?.TemplatePresets:t?.TemplatePresets;return(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(i??[])?.filter(e=>!eZ.includes(e.presetConfigSlug))?.map(e=>s.jsx(ev,{preset:e,handleApplyPreset:n,loading:l},e.presetConfigSlug))})}function eP(e){let{url:t,loading:l,translateLeft:n,tile:r}=(0,c.mr)(),i=(0,eh.b)();return(0,s.jsxs)("div",{"data-testid":"design-image",className:(0,v.cn)("relative h-full mx-auto flex items-center justify-center transition-transform",e.className),style:{transform:`translateX(-${n}px)`,...e.style},children:[l&&(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20",children:(0,s.jsx)(u.s8,{width:24,height:24,className:"fill-white"})}),r?(0,s.jsx)(S,{url:t,loading:l}):(0,s.jsx)("img",{alt:"",className:"max-h-full min-h-[128px] relative rounded-[48px] border-solid border-[6px] border-bg-primary overflow-hidden",src:t,onContextMenu:e=>{if(!i)return e.preventDefault(),!1},style:{filter:l?"brightness(0.5)":void 0}})]})}},56472:function(e,t,l){l.d(t,{DP:function(){return n},G3:function(){return a},Ou:function(){return u},nf:function(){return i},r5:function(){return o},tG:function(){return c},vR:function(){return r}});var s=l(91298);function n(e){let{r:t,g:l,b:s}=e;return(299*t+587*l+114*s)/1e3<128}function r(e){let{r:t,g:l,b:s,a:n}=e,r=t.toString(16).padStart(2,"0"),i=l.toString(16).padStart(2,"0"),a=s.toString(16).padStart(2,"0"),o=Math.round(255*n).toString(16).toLowerCase().padStart(2,"0");return`#${r}${i}${a}${"ff"===o?"":o}`}function i(e){if(e=e.trim(),!/^#/.test(e))return null;let t=e.slice(1);if(![3,4,6,8].includes(t.length))return null;if(3===t.length||4===t.length){let l=t.split("").map(e=>e+e).join("");e=`#${l}`}let l=parseInt(e.slice(1,3),16);return{r:l,g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:8===t.length?parseInt(e.slice(7,9),16)/255:1}}function a(e){if(!e||"string"!=typeof e||!/^#/.test(e))return!1;let t=e.slice(1);return!![3,4,6,8].includes(t.length)&&!!/^[0-9a-fA-F]+$/.test(t)}function o(e){return d(e,-10)}function c(e){return d(e,10)}function d(e,t){let l=i(e);if(!l)return e;let{r:n,g:a,b:o,a:c}=l;return t>0&&(n>255-t||a>255-t||o>255-t)||t<0&&(n<-t||a<-t||o<-t)?e:r({r:s.Z.clamp(Math.round(n+t),0,255),g:s.Z.clamp(Math.round(a+t),0,255),b:s.Z.clamp(Math.round(o+t),0,255),a:c})}function u(e,t){let l=i(e);if(!l)return e;let{r:n,g:a,b:o,a:c}=l;return r({r:n,g:a,b:o,a:s.Z.clamp(c+t,0,1)})}},85189:function(e,t,l){var s=l(67294);t.Z=function(e,t){let[l,n]=(0,s.useState)(()=>{try{let l=window.localStorage.getItem(e);return l?JSON.parse(l):t}catch(e){return console.error(e),t}});return[l,t=>{try{let s=t instanceof Function?t(l):t;n(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(e){console.error(e)}}]}}}]);